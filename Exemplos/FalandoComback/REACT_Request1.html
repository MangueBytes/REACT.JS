<!DOCTYPE html>
<html>
	<head>
		<title>Put Request</title>
		<script src="https://unpkg.com/react@17/umd/react.development.js" ></script>
		<script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" ></script>
		<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
		<style>

		</style>

		<script type="text/babel">
			const { useState } = React;
			
			function PutRequestHooks() {

				const [postId, setPostId] = React.useState(null);

				React.useEffect(() => {
					// PUT request using fetch inside useEffect React hook
					const requestOptions = {
						method: 'PUT',
						headers: { 'Content-Type': 'application/json' },
						body: JSON.stringify({ title: 'React Hooks PUT Request Example' })
					};
					fetch('https://jsonplaceholder.typicode.com/posts/1', requestOptions)
						.then(response => response.json())
						.then(data => setPostId(data.id));

				// matriz de dependência vazia significa que esse efeito será executado apenas uma vez (como componentDidMount em classes)
				}, []);

				return (
					<div>
						<h5>PUT Request with React Hooks</h5>
						<div>
							Returned Id: {postId}
						</div>
					</div>
				);
			}

			ReactDOM.render(<PutRequestHooks />,document.getElementById('saida'));
		</script>
	</head>
	<body>
		<div id="saida"></div>
	</body>
</html>